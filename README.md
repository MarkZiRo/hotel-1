# hotelreservation

프로젝트 소개

![image](https://github.com/yunheejunn/hotel/assets/169603251/69affc80-4246-4150-b3b8-ee16c1467e24)

기술 스택

![image](https://github.com/yunheejunn/hotel/assets/169603251/30a38e6e-34ee-4b0e-9b88-4f5bf585f7aa)

ERD

![image](https://github.com/yunheejunn/hotel/assets/169603251/fb7b976c-96d7-4e57-bfda-b6cbd22d0fd4)



# 기능 요구서

## 1. 인증 및 권한 처리

1. 회원가입 기능
    - 사용자는 고유한 아이디(이메일)과 비밀번호 및 닉네임을 입력하여 회원가입을 할 수 있어야 한다.
    - 회원가입 양식은 사용자의 정보를 수집할 수 있어야 한다. (필수 입력 사항: 닉네임, 이메일, 비밀번호)
    - 입력된 정보는 유효성 검사를 거쳐야 하며, 중복된 아이디는 허용되지 않아야 한다.
    - 이메일은 인증 코드 발송을 통한 추가적인 인증이 필요하다.
    - 위의 사항들을 충족하여 회원가입에 성공시  ROLE_USER 의 권한을 받는다.(권한은 USER, MANAGER, ADMIN으로 나뉜다.)
    - 사업자 번호 추가 시 MANAGER 권한을 받는다. (이 부분은 상의 필요)
    - 회원가입이 성공적으로 완료되면 로그인 페이지로 이동해야 한다.
    
2. 로그인 기능
    - 등록된 사용자는 아이디와 비밀번호를 입력하여 로그인할 수 있어야 한다. (JWT 인증 방식으로 구현)
    - 입력된 정보는 데이터베이스에 저장된 정보와 일치해야 한다.
    - 사용자가 유효한 경우, 서버는 해당 사용자에 대한 JWT를 생성한다.
    - 로그인에 실패한 경우 적절한 오류 메시지가 표시되어야 한다.
    - 로그인에 성공적으로 완료되면 사용자는 메인페이지로 이동해야 한다.
    
3. 비밀번호 재발급 기능
    - 비밀번호를 잊어버렸을 경우 로그인 페이지의 하이퍼 링크로부터 비밀번호 재발급 페이지로 이동할 수 있다.
    - 사용자는 가입 시 사용한 이메일로 다시 한번 인증해서 비밀번호 재발급이 가능하다.
    - 재발급 되는 비밀번호도 유효성 검사를 거쳐야 한다.

1. 소셜 로그인 기능
    - 사용자는 네이버, 카카오톡, 구글의 아이디를 사용하여 로그인이 가능하다.
    - 로그인 버튼을 클릭하면 해당 소셜 미디어 플랫폼의 인증 서비스로 이동하여 인증 프로세스를 진행한다.
    - 사용자가 원하는 소셜 미디어 플랫폼의 인증 절차를 거치고 나면 내부적으로 회원을 생성하여 JWT 토큰을 발급한다.
    - 사용자가 로그아웃을 요청하면 클라이언트는 저장된 JWT토큰을 삭제한다.
    
2. 마이페이지 기능
    - 로그인한 사용자는 자신의 정보를 확인하는 마이페이지로 이동이 가능하다.
    - 닉네임 변경, 프로필 이미지 수정 등 회원 정보 변경이 가능하다.
    - 마이페이지에서 자신이 예약한 호텔의 정보를 확인할 수 있다.

1. 관리자 기능
    - 관리자는 사용자의 호텔 등록 신청 목록을 확인할 수 있다.
    - 관리자는 사용자의 호텔 등록 신청을 수락 및 거절 할 수 있다.

## 2. 호텔검색

- 메인 페이지에서 호텔을 검색할수 있다.
    - 검색할때 위치, 가격, 날짜, 별점에 따른 검색이 가능하다.
    - 로그인이 필요한 페이지에 접근할 경우 로그인을 요청한다.
    - api를 사용하여(한국관광공사) 실제 호텔의 정보를 가져온다.
- 호텔 조회를 누르면 호텔 상세페이지로 이동한다.
    - 호텔 상세페이지에서는 이미지,객실선택, 위치정보, 별점등을 확인 할 수가 있다.
    - 리뷰와 문의 게시판을 통해 자세하게 내용을 확인 할수도 있다.
- 호텔을 신청하면 유저가 가능한 일정을 선택한 뒤 결제 페이지로 이동한다.
- 결제 시스템 (Toss payments)
    - 유저가 일정을 선택한 뒤 결제 페이지에서 결제를 진행한다.
    - 결제가 완료되면 호텔관리자가 유저의 호텔 신청을 보고 수락 또는 거절을 한다.
        - 유저는 마이페이지에서 예약정보를 확인가능하다.
    - 호텔관리자가 예약을 거절할 경우 결제 취소가 이루어진다.
- 마이페이지로 이동이 가능하다.
    - 회원 페이지에서 로그아웃이 가능하다.
    - 내가 예약한 호텔정보를 볼수가 있다. 후기 작성 또는 수정 버튼을 누르면 내 후기 작성 페이지로 이동한다.
    - 호텔 상세페이지에서 리뷰와 별점을 남길 수가 있다.
    - 호텔 관리자는 리뷰에 댓글을 남길 수가 있다.
    - 리뷰의 수정과 삭제는 리뷰를 작성한 본인 혹은 시스템 관리자만 가능하다.
    - 양도하기를 통해 다른 유저에게 내가 예약했던 호텔을 넘겨줄 수 있다.
    

## 3. 호텔 관리하기

- 호텔 신청 페이지에서 호 등록을 신청할 수 있다.
    - 주소, mapX, mapY , 이름, 이미지를 넣어서 신청할 수가 있다.
    - 관리자의 승인에 따라 호텔로 등록되며 신청한사람은 호텔 관리자가 된다.
- 마이페이지에서 정보 수정이 가능하다.
    - 주소, mapX, mapY , 이름, 이미지 수정 가능
- 마이페이지에서 호텔 관리, 후기 보기, 정산, 로그아웃이 가능하다.
    - 마이페이지에서 내호텔에 예약을 한 유저를 볼 수 있다.
    - 추가 호텔요청, 수정 요청을 할 수 있다.
        - 관리자가 승인하면 추가 호텔이 생성 또는 수정된다.
    - 호텔을 삭제 요청 할 수 있다.
        - 관리자가 승인하면 호텔이 삭제 된다.
    - 좋아요 기능
        - 호텔에 좋아요를 누를 수 있다. 중복하여 누르면 기존 좋아요가 취소된다.
    - 정산
        - 정산할 수 있는 금액을 볼 수 있다.
        - 정산 버튼을 눌러 정산 신청이 가능하다.
          
   

![image](https://github.com/MarkZiRo/hotel/assets/37473857/a3de93ab-9717-41db-8948-baaa26d18f15)


![image](https://github.com/MarkZiRo/hotel/assets/37473857/36374b0d-9ea8-4609-9bc4-beb92b67c550)


![image](https://github.com/MarkZiRo/hotel/assets/37473857/ef3966fd-a31a-494c-8dec-517fee5d8ab8)

